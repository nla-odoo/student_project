<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<template id="user_portal" name="Tournamnet" inherit_id="portal.portal_breadcrumbs"  priority="1">
        <xpath expr="//ol[hasclass('o_portal_submenu')]" position="inside">
            <li style="margin-left:10px; font-weight: bold"><a href="/yourhomepage/">Tournament</a></li>
            <li style="margin-left:10px; font-weight: bold"><a href="/match_detail/">Match</a></li>
            <li style="margin-left:10px; font-weight: bold"><a href="/dashboard/">Dashboard</a></li>
        </xpath>
	</template>
	<template id="sub">
		<t t-call="portal.portal_layout">
			<t t-call-assets="web.assets_frontend"></t>
			<div class="container">
			<title>Tornament</title>
				<div class="row">
					<t t-foreach="tournaments" t-as="tournament">
						<div class="col-sm-4">
						    <div class="card" style="margin-top:40px">
						      <div class="card-body">
						      	<h5 class="card-title">
					      			<table>
						      			<thead>
							      			<tr>
								      			<th class="text-left" width="48%"><t t-esc="tournament.name"/></th>
												<th class="text-right, text-danger" width="10%"><t t-esc="tournament.status"/></th>
											</tr>
										</thead>
									</table>
								</h5>
						        <p class="card-text">
						        	Place : <t t-esc="tournament.place"/><br/>
									Tournament Type : <t t-esc="tournament.tournamenttype"/><br/>
									Participate Team : <t t-esc="tournament.team"/><br/>
									Tournament Starting Date : <t t-esc="tournament.starting_date"/><br/>
									Tournament Ending Date : <t t-esc="tournament.ending_date"/><br/> 
								</p>
						        <a t-attf-href="/tournament_shedule/{{tournament.id}}" class="btn btn-primary">Shedule</a>
						      </div>
						    </div>
						</div>
					</t>
				</div>
			</div>
		</t>
	</template>
	<template id="match">
		<t t-call="portal.portal_layout">
			<t t-call-assets="web.assets_frontend"></t>
			<div class="container">
			<title>Match</title>
				<div class="row">
					<t t-foreach="matchs_shedule" t-as="shedule">
						<div class="col-sm-4">
							<div class="card" style="margin-top:40px">
						      	<div class="card-body">
						      		<h5 class="card-title">
						      			<table>
							      			<thead>
								      			<tr>
									      			<th class="text-left" width="48%"><t t-esc="shedule.name"/></th>
													<th class="text-right, text-danger" width="10%"><t t-esc="shedule.status"/></th>
												</tr>
											</thead>
										</table>
									</h5>
									<p class="card-text">
										<t t-esc="shedule.team1name_id.name"/>
										Vs <t t-esc="shedule.team2name_id.name"/><br/>
										Over : <t t-esc="shedule.matchover"/><br/>
										Date and Time : <t t-esc="shedule.matchdatetime"/><br/>
										Umpire Name : <t t-esc="shedule.umpirename"/><br/>
										Venue : <t t-esc="shedule.matchvenue"/><br/>	
									</p>
									<t t-if="shedule.status == 'live' or shedule.status == 'past'">
									 <a t-attf-href="/match_summary/{{shedule.id}}" class="btn btn-primary">Score Board</a>
									</t>
									<t t-if="shedule.status == 'upcoming'">
									 <a t-attf-href="/match_detail/{{shedule.id}}" class="btn btn-primary">Score Board</a>
									</t>
								</div>
							</div>

						</div>
					</t>
				</div>
			</div>
		</t>
	</template>
	<template id="match_form">
		<t t-call="portal.portal_layout">
			<t t-call-assets="web.assets_frontend"></t>
			<div class="container">
			<title>Match</title>
				<t t-foreach="matchs" t-as="match">
					<nav class="navbar navbar-expand-lg navbar-light bg-light" style="margin-top:10px">
						<t t-if="match.status != 'upcoming'">
						 	<a class="nav-link" t-attf-href="/match_summary/{{match.id}}">Summary</a>
						 	<a class="nav-link" t-attf-href="/match_scoreboard/{{match.id}}">ScoreCard</a>
						 	<a class="nav-link" t-attf-href="#">Commentry</a>
						 	<a class="nav-link" t-attf-href="#">Analysis</a>
						 	<a class="nav-link" t-attf-href="#">Prize Caremony</a>
						 </t>
					 		<a class="nav-link" t-attf-href="/match_detail/{{match.id}}">Team</a>
					</nav>
				</t>
				<div class="col-sm-12">
				<div class="row">
					<t t-foreach="tosss" t-as="toss">
						<div class="col-sm-6">
							<div class="card" style="margin-top:40px">
						      	<div class="card-body">
						      		<table class="table pmd-table">
										<thead>
											<tr>
												<th width="55%"><t t-esc="toss.tournamentname.name"/>
												(<t t-esc="toss.tournamentname.tournamenttype"/>)</th>
											</tr>
											<tr><td>
												<t t-esc="toss.name.name"/>,
												<t t-esc="toss.name.matchover"/>,
												<t t-esc="toss.name.matchdatetime"/>,
												<t t-esc="toss.name.matchvenue"/>,</td>
											</tr>
											<tr><td>
												<label>Toss: </label>
												<t t-esc="toss.description"/></td>
											</tr>
											<tr><td>
												<t t-foreach="scoreboards" t-as="scoreboard">
													<t t-esc="scoreboard.battingteam"/>
													<t t-esc="scoreboard.totalrun"/>/
													<t t-esc="scoreboard.ballresult"/>
													(<t t-esc="scoreboard.over"/>)
												</t></td>
											</tr>
										</thead>
									</table>			
								</div>
							</div>
						</div>
						<div class="col-sm-6">
							<div class="card" style="margin-top:40px">
						      	<div class="card-body">
						      		<t t-foreach="scoreboards" t-as="scoreboard">
										<table class="table pmd-table">
										<thead>
											<tr>
												<th class="text-left" width="48%">Batsman</th>
												<th class="text-right" width="10%">R</th>
												<th class="text-right" width="10%">B</th>
												<th class="text-right" width="10%">4S</th>
												<th class="text-right" width="10%">6s</th>
												<th class="text-right" width="12%">SR</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td class="text-left" width="48%"><t t-esc="scoreboard.stricker_id.name"/><br/></td>
											</tr>
											<tr>
												<td class="text-left" width="48%"><t t-esc="scoreboard.nonstricker_id.name"/><br/></td>
											</tr>
										</tbody>
										<thead>
											<tr>
												<th class="text-left" width="48%">Bowler</th>
												<th class="text-right" width="10%">O</th>
												<th class="text-right" width="10%">M</th>
												<th class="text-right" width="10%">R</th>
												<th class="text-right" width="10%">W</th>
												<th class="text-right" width="12%">Eco</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td class="text-left" width="48%"><t t-esc="scoreboard.bowler_id.name"/><br/></td>
											</tr>
										</tbody>
										</table>
									</t>		
								</div>
							</div>
						</div>
					</t>
				</div>
			</div>
				<div class="row">
					<t t-foreach="team1" t-as="team">
						<div class="col-sm-12 col-xl-12 col-lg-12 col-md-12">
							<div class="card" style="margin-top:40px">
						      	<div class="card-body">
						      		<h2 class="card-title"><t t-esc="team.name"/></h2>
						      		<div class="row">
							      		<t t-foreach="team.playername_ids" t-as="playername">
								      		<div class="col-sm-12 col-md-6 col-lg-3">
												<img t-attf-src="data:image/*;base64,{{playername.image}}" height="200px" width="200px"/>
												<h5 align="center"><span t-field="playername.name"/></h5>
								      		</div>
							      		</t>
									</div>		
								</div>
							</div>
						</div>
					</t>
				</div>
				<div class="row">
					<t t-foreach="team2" t-as="team">
						<div class="col-sm-12 col-xl-12 col-lg-12 col-md-12">
							<div class="card" style="margin-top:40px">
						      	<div class="card-body">
						      		<h2 class="card-title"><t t-esc="team.name"/></h2>
						      		<div class="row">
							      		<t t-foreach="team.playername_ids" t-as="playername">
								      		<div class="col-sm-12 col-md-6 col-lg-3">
												<img t-attf-src="data:image/*;base64,{{playername.image}}" height="200px" width="200px"/>
												<h5 align="center"><span t-field="playername.name"/></h5>
								      		</div>
							      		</t>
									</div>		
								</div>
							</div>
						</div>
					</t>
				</div>
			</div>
		</t>
	</template>
	<template id="payment">
		<t t-call="portal.portal_layout">
		<div class="row">
			<t t-foreach="payments" t-as="payment">
				<div class="col-sm-12 col-xl-12 col-lg-12 col-md-12">
					<div class="card" style="margin-top:40px">
				      	<div class="card-body">
				      		<div class="card-title">
				      		<label>Tournament Name:</label>
				      		<t t-esc="payment.tournamentname.name"/><br/>
				      		<label>Match Name:</label>
				      		<t t-esc="payment.name"/><br/>
				      		<label>Amount:</label>
				      		<t t-esc="payment.amount"/><br/>

				      		<input type="hidden" id="payment_id" name="payment_id" t-attf-value="{{ payment.id }}"/>
				      		<button class="btn btn-primary" id="pay_now">Pay Now</button>
				      		<script type="text/javascript" src="/cricket_tournament/static/src/js/payment.js">
				      		</script>
				      		</div>
						</div>
					</div>
				</div>
			</t>
		</div>
	</t>
	</template>
	<template id="payment_form">
		<t t-call="portal.portal_layout">
			<t t-foreach="payment" t-as="pay">
				<div text-align="center">
					<h2><label>Payment <t t-esc="pay.payment_status"/></label></h2>
				</div>
				<table class="table pmd-table">
					<tr>
						<th><label>Transaction Number:</label>
						<t t-esc="pay.acquirer_ref"/></th>
					</tr>
					<tr>
						<th><label>Transaction Date:</label>
						<t t-esc="pay.transaction_date"/></th>
					</tr>
					<tr>
						<th><label>Amount:</label>
						<t t-esc="pay.amount"/></th>
					</tr>
				</table>
			</t>
		</t>
	</template>
</odoo>
